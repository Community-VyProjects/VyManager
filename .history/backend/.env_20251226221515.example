# ==============================================================================
# VyOS Management API - Configuration Example
# ==============================================================================
# This file is a template for the VyManager backend API configuration.
# Copy this file to .env and update with your details.
#
# To get started:
#   1. Copy this file: cp .env.example .env
#   2. Edit .env with your PostgreSQL and CORS configuration
#   3. Start the API: docker-compose up -d
#
# VyOS instances are now managed through the database (sites and instances tables).
# Users connect to instances via the web UI (/sites page).
# ==============================================================================

# ------------------------------------------------------------------------------
# Database Configuration (Required)
# ------------------------------------------------------------------------------

# DATABASE_URL: PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# This should match your docker-compose.yml postgres service
#
# For Docker Compose deployments, use the service name as host:
DATABASE_URL=postgresql://vymanager:vymanager_secure_password@postgres:5432/vymanager_auth

# For non-Docker deployments, use the actual host:
# DATABASE_URL=postgresql://vymanager:password@localhost:5432/vymanager_auth

# ------------------------------------------------------------------------------
# CORS Configuration (Required)
# ------------------------------------------------------------------------------

# FRONTEND_URL: URL where the frontend is hosted
# Used for CORS (Cross-Origin Resource Sharing) configuration
#
# Development (default):
FRONTEND_URL=http://localhost:3000

# Production example (HTTPS):
# FRONTEND_URL=https://your-frontend-domain.com

# ==============================================================================
# Instance Management
# ==============================================================================
#
# VyOS instances are no longer configured in .env!
#
# To add VyOS instances:
# 1. Log in to VyManager web UI
# 2. Navigate to /sites (Site Manager)
# 3. Create a site (or use existing site)
# 4. Add instances to the site via the UI
#
# Each instance requires:
#   - Name: Friendly name for the instance
#   - Host: IP address or hostname (e.g., 192.168.1.1)
#   - Port: API port (default: 443 for HTTPS)
#   - API Key: VyOS HTTP API key
#   - VyOS Version: 1.4 or 1.5 (for version-aware commands)
#
# To generate a VyOS API key:
#   1. SSH into your VyOS device
#   2. Enter configuration mode: configure
#   3. Generate key: set service https api keys id MY_KEY key 'YOUR_KEY_HERE'
#   4. Commit and save: commit; save
# ==============================================================================
